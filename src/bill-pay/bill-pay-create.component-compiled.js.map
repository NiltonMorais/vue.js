{"version":3,"sources":["bill-pay-create.component.js"],"names":[],"mappings":";;AAAA,IAAM,QAAQ,CAAC,cAAD,EAAiB,eAAjB,EAAkC,mBAAlC,CAAd;;AAEA,OAAO,sBAAP,GAAgC,IAAI,MAAJ,CAAW;AACvC,g1BADuC;AAsBvC,QAtBuC,kBAsBjC;AACF,eAAO;AACH,sBAAU,QADP;AAEH,mBAAO,KAFJ;AAGH,kBAAM,IAAI,OAAJ;AAHH,SAAP;AAKH,KA5BsC;AA6BvC,WA7BuC,qBA6B9B;AACL,YAAG,KAAK,MAAL,CAAY,IAAZ,IAAoB,iBAAvB,EAAyC;AACrC,iBAAK,QAAL,GAAgB,QAAhB;AACA,iBAAK,OAAL,CAAa,KAAK,MAAL,CAAY,MAAZ,CAAmB,EAAhC;AACA;AACH;AACJ,KAnCsC;;AAoCvC,aAAS;AACL,cADK,oBACI;AAAA;;AACL,gBAAI,OAAO,KAAK,IAAL,CAAU,MAAV,EAAX;AACA,gBAAI,KAAK,QAAL,IAAiB,QAArB,EAA+B;AAC3B,qBAAK,IAAL,CAAU,EAAV,EAAa,IAAb,EAAmB,IAAnB,CAAwB,UAAC,QAAD,EAAc;AAClC,0BAAK,SAAL,CAAe,aAAf;AACA,0BAAK,OAAL,CAAa,EAAb,CAAgB,EAAC,MAAM,eAAP,EAAhB;AACH,iBAHD;AAIH,aALD,MAKK;AACD,qBAAK,MAAL,CAAY,EAAC,IAAI,KAAK,IAAL,CAAU,EAAf,EAAZ,EAA+B,IAA/B,EAAqC,IAArC,CAA0C,UAAC,QAAD,EAAc;AACpD,0BAAK,SAAL,CAAe,aAAf;AACA,0BAAK,OAAL,CAAa,EAAb,CAAgB,EAAC,MAAM,eAAP,EAAhB;AACH,iBAHD;AAIH;AACJ,SAdI;AAeL,eAfK,mBAeG,EAfH,EAeM;AAAA;;AACP,iBAAK,GAAL,CAAS,EAAC,IAAI,EAAL,EAAT,EAAmB,IAAnB,CAAwB,UAAC,QAAD,EAAc;AAClC,uBAAK,IAAL,GAAY,IAAI,OAAJ,CAAY,SAAS,IAArB,CAAZ;AACH,aAFD;AAGH,SAnBI;AAoBL,kBApBK,sBAoBM,QApBN,EAoBe;AAChB,gBAAI,gBAAgB,QAApB;AACA,gBAAG,EAAE,oBAAoB,IAAtB,CAAH,EAA+B;AAC3B,gCAAgB,IAAI,IAAJ,CAAS,SAAS,KAAT,CAAe,GAAf,EAAoB,OAApB,GAA8B,IAA9B,CAAmC,GAAnC,IAAwC,WAAjD,CAAhB;AACH;AACD,mBAAO,cAAc,WAAd,GAA4B,KAA5B,CAAkC,GAAlC,EAAuC,CAAvC,CAAP;AACH;AA1BI;AApC8B,CAAX,CAAhC","file":"bill-pay-create.component-compiled.js","sourcesContent":["const names = [\"Conta de luz\", \"Conta de Ã¡gua\", \"Conta de telefone\"];\r\n\r\nwindow.billPayCreateComponent = Vue.extend({\r\n    template: `\r\n            <form name=\"form\" @submit.prevent=\"submit\">\r\n                <label>Vencimento:</label>\r\n                <input type=\"text\" v-model=\"bill.date_due | dateFormat\">\r\n                <br><br>\r\n                <label>Nome:</label>\r\n                <select v-model=\"bill.name\">\r\n                    <option v-for=\"o in names\" :value=\"o\">\r\n                        {{o}}\r\n                    </option>\r\n                </select>\r\n                <br><br>\r\n                <label>Valor:</label>\r\n                <input type=\"text\" v-model=\"bill.value | numberFormat\">\r\n                <br><br>\r\n                <label>Pago?</label>\r\n                <input type=\"checkbox\" v-model=\"bill.done\">\r\n                <br><br>\r\n                <input type=\"submit\" value=\"Enviar\" />\r\n            </form>\r\n    `,\r\n    data(){\r\n        return {\r\n            formType: \"insert\",\r\n            names: names,\r\n            bill: new BillPay()\r\n        }\r\n    },\r\n    created(){\r\n        if(this.$route.name == 'bill-pay.update'){\r\n            this.formType = 'update';\r\n            this.getBill(this.$route.params.id);\r\n            return;\r\n        }\r\n    },\r\n    methods: {\r\n        submit() {\r\n            var data = this.bill.toJSON();\r\n            if (this.formType == \"insert\") {\r\n                Bill.save({},data).then((response) => {\r\n                    this.$dispatch('change-info');\r\n                    this.$router.go({name: 'bill-pay.list'});\r\n                });\r\n            }else{\r\n                Bill.update({id: this.bill.id},data).then((response) => {\r\n                    this.$dispatch('change-info');\r\n                    this.$router.go({name: 'bill-pay.list'});\r\n                });\r\n            }\r\n        },\r\n        getBill(id){\r\n            Bill.get({id: id}).then((response) => {\r\n                this.bill = new BillPay(response.data);\r\n            });\r\n        },\r\n        getDateDue(date_due){\r\n            let dateDueObject = date_due;\r\n            if(!(date_due instanceof Date)){\r\n                dateDueObject = new Date(date_due.split('/').reverse().join('-')+\"T03:00:00\");\r\n            }\r\n            return dateDueObject.toISOString().split('T')[0];\r\n        }\r\n    }\r\n});\r\n"]}
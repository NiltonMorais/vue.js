{"version":3,"sources":["bill-pay-list.component.js"],"names":[],"mappings":";;AAAA,OAAO,oBAAP,GAA8B,IAAI,MAAJ,CAAW;AACrC,gBAAY;AACR,iBAAS,OAAO;AADR,KADyB;AAIrC,uhEAJqC;AAkDrC,QAlDqC,kBAkD/B;AACF,eAAO;AACH,mBAAO,EADJ;AAEH,0BAAc,IAFX;AAGH,mBAAO;AACH,oBAAI;AADD;AAHJ,SAAP;AAOH,KA1DoC;AA2DrC,WA3DqC,qBA2D5B;AAAA;;AACL,aAAK,KAAL,GAAa,IAAb,CAAkB,UAAC,QAAD,EAAc;AAC5B,kBAAK,KAAL,GAAa,SAAS,IAAtB;AACH,SAFD;AAGH,KA/DoC;;AAgErC,aAAS;AACL,kBADK,wBACQ;AAAA;;AACL,iBAAK,MAAL,CAAY,EAAC,IAAI,KAAK,YAAL,CAAkB,EAAvB,EAAZ,EAAwC,IAAxC,CAA6C,UAAC,QAAD,EAAc;AACvD,uBAAK,KAAL,CAAW,OAAX,CAAmB,OAAK,YAAxB;AACA,uBAAK,YAAL,GAAoB,IAApB;AACA,4BAAY,KAAZ,CAAkB,6BAAlB,EAAiD,IAAjD;AACA,uBAAK,SAAL,CAAe,aAAf;AACH,aALD;AAMP,SARI;AASL,uBATK,2BASW,IATX,EASgB;AACjB,iBAAK,YAAL,GAAoB,IAApB;AACA,cAAE,MAAI,KAAK,KAAL,CAAW,EAAjB,EAAqB,KAArB,CAA2B,MAA3B;AACH;AAZI;AAhE4B,CAAX,CAA9B","file":"bill-pay-list.component-compiled.js","sourcesContent":["window.billPayListComponent = Vue.extend({\r\n    components: {\r\n        'modal': window.modalComponent,\r\n    },\r\n    template: `\r\n    <div class=\"container\">\r\n          <h2>Minhas contas a pagar</h2>\r\n            <table class=\"striped responsive-table centered highline responsive-table z-depth-5\">\r\n                <thead>\r\n                <tr>\r\n                    <th>#</th>\r\n                    <th>Vencimento</th>\r\n                    <th>Nome</th>\r\n                    <th>Valor</th>\r\n                    <th>Paga?</th>\r\n                    <th>Ações</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr v-for=\"(index,o) in bills\">\r\n                    <td>{{o.id}}</td>\r\n                    <td>{{o.date_due | dateFormat 'pt-BR'}}</td>\r\n                    <td>{{o.name | toUpper}}</td>\r\n                    <td>{{o.value | numberFormat}}</td>\r\n                    <td class=\"white-text\" :class=\"{'green lighten-2': o.done,'red lighten-2': !o.done}\">{{o.done | doneLabel}}</td>\r\n                    <td>\r\n                        <button v-link=\"{name: 'bill-pay.update',params: {id: o.id}}\">Editar</button>\r\n                        <button href=\"#\" @click.prevent=\"openModalDelete(o)\">Excluir</button>\r\n                    </td>\r\n                </tr>\r\n                </tbody>\r\n            </table>\r\n    </div>\r\n\r\n    <modal :modal=\"modal\">\r\n        <div slot=\"content\">\r\n            <h4>Mensagem de confirmação</h4>\r\n            <p><strong>Deseja excluir esta conta?</strong></p>\r\n            <div class=\"divider\"></div>\r\n            <p>Nome: <strong>{{billToDelete.name}}</strong></p>\r\n            <p>Valor: <strong>{{billToDelete.value | numberFormat}}</strong></p>\r\n            <p>Data de vencimento: <strong>{{billToDelete.date_due | dateFormat 'pt-BR'}}</strong></p>\r\n            <div class=\"divider\"></div>\r\n        </div>\r\n        <div slot=\"footer\">\r\n            <button class=\"btn btn-flat waves-effect green lighten-2 modal-close\" @click=\"deleteBill()\">Ok</button>\r\n            <button class=\"btn btn-flat waves-effect waves-red modal-close\">Cancelar</button>\r\n        </div>\r\n    </modal>\r\n    `,\r\n    data(){\r\n        return {\r\n            bills: [],\r\n            billToDelete: null,\r\n            modal: {\r\n                id: 'modal-delete'\r\n            }\r\n        };\r\n    },\r\n    created(){\r\n        Bill.query().then((response) => {\r\n            this.bills = response.data;\r\n        });\r\n    },\r\n    methods: {\r\n        deleteBill() {\r\n                Bill.delete({id: this.billToDelete.id}).then((response) => {\r\n                    this.bills.$remove(this.billToDelete);\r\n                    this.billToDelete = null;\r\n                    Materialize.toast('Conta excluída com sucesso!', 4000);\r\n                    this.$dispatch('change-info');\r\n                });\r\n        },\r\n        openModalDelete(bill){\r\n            this.billToDelete = bill;\r\n            $('#'+this.modal.id).modal('open');\r\n        }\r\n    }\r\n});"]}
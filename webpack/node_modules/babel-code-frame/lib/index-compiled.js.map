{"version":3,"sources":["index.js"],"names":[],"mappings":"AAAA;;AAEA,QAAQ,UAAR,GAAqB,IAArB;;AAEA,QAAQ,OAAR,GAAkB,UAAU,QAAV,EAAoB,UAApB,EAAgC,SAAhC,EAA2C;AAC3D,MAAI,OAAO,UAAU,MAAV,GAAmB,CAAnB,IAAwB,UAAU,CAAV,MAAiB,SAAzC,GAAqD,UAAU,CAAV,CAArD,GAAoE,EAA/E;;AAEA,cAAY,KAAK,GAAL,CAAS,SAAT,EAAoB,CAApB,CAAZ;;AAEA,MAAI,cAAc,KAAK,aAAL,IAAsB,QAAQ,OAAR,CAAgB,aAAtC,IAAuD,KAAK,UAA9E;AACA,MAAI,QAAQ,QAAQ,OAApB;AACA,MAAI,KAAK,UAAT,EAAqB;AACnB,YAAQ,IAAI,QAAQ,OAAR,CAAgB,WAApB,CAAgC,EAAE,SAAS,IAAX,EAAhC,CAAR;AACD;AACD,MAAI,iBAAiB,SAAS,cAAT,CAAwB,OAAxB,EAAiC,MAAjC,EAAyC;AAC5D,WAAO,cAAc,QAAQ,MAAR,CAAd,GAAgC,MAAvC;AACD,GAFD;AAGA,MAAI,OAAO,QAAQ,KAAR,CAAX;AACA,MAAI,WAAJ,EAAiB,WAAW,UAAU,IAAV,EAAgB,QAAhB,CAAX;;AAEjB,MAAI,aAAa,KAAK,UAAL,IAAmB,CAApC;AACA,MAAI,aAAa,KAAK,UAAL,IAAmB,CAApC;;AAEA,MAAI,QAAQ,SAAS,KAAT,CAAe,OAAf,CAAZ;AACA,MAAI,QAAQ,KAAK,GAAL,CAAS,cAAc,aAAa,CAA3B,CAAT,EAAwC,CAAxC,CAAZ;AACA,MAAI,MAAM,KAAK,GAAL,CAAS,MAAM,MAAf,EAAuB,aAAa,UAApC,CAAV;;AAEA,MAAI,CAAC,UAAD,IAAe,CAAC,SAApB,EAA+B;AAC7B,YAAQ,CAAR;AACA,UAAM,MAAM,MAAZ;AACD;;AAED,MAAI,iBAAiB,OAAO,GAAP,EAAY,MAAjC;;AAEA,MAAI,QAAQ,MAAM,KAAN,CAAY,KAAZ,EAAmB,GAAnB,EAAwB,GAAxB,CAA4B,UAAU,IAAV,EAAgB,KAAhB,EAAuB;AAC7D,QAAI,SAAS,QAAQ,CAAR,GAAY,KAAzB;AACA,QAAI,eAAe,CAAC,MAAM,MAAP,EAAe,KAAf,CAAqB,CAAC,cAAtB,CAAnB;AACA,QAAI,SAAS,MAAM,YAAN,GAAqB,KAAlC;AACA,QAAI,WAAW,UAAf,EAA2B;AACzB,UAAI,aAAa,EAAjB;AACA,UAAI,SAAJ,EAAe;AACb,YAAI,gBAAgB,KAAK,KAAL,CAAW,CAAX,EAAc,YAAY,CAA1B,EAA6B,OAA7B,CAAqC,QAArC,EAA+C,GAA/C,CAApB;AACA,qBAAa,CAAC,KAAD,EAAQ,eAAe,KAAK,MAApB,EAA4B,OAAO,OAAP,CAAe,KAAf,EAAsB,GAAtB,CAA5B,CAAR,EAAiE,aAAjE,EAAgF,eAAe,KAAK,MAApB,EAA4B,GAA5B,CAAhF,EAAkH,IAAlH,CAAuH,EAAvH,CAAb;AACD;AACD,aAAO,CAAC,eAAe,KAAK,MAApB,EAA4B,GAA5B,CAAD,EAAmC,eAAe,KAAK,MAApB,EAA4B,MAA5B,CAAnC,EAAwE,IAAxE,EAA8E,UAA9E,EAA0F,IAA1F,CAA+F,EAA/F,CAAP;AACD,KAPD,MAOO;AACL,aAAO,MAAM,eAAe,KAAK,MAApB,EAA4B,MAA5B,CAAN,GAA4C,IAAnD;AACD;AACF,GAdW,EAcT,IAdS,CAcJ,IAdI,CAAZ;;AAgBA,MAAI,WAAJ,EAAiB;AACf,WAAO,MAAM,KAAN,CAAY,KAAZ,CAAP;AACD,GAFD,MAEO;AACL,WAAO,KAAP;AACD;AACF,CAnDD;;AAqDA,IAAI,YAAY,QAAQ,WAAR,CAAhB;;AAEA,IAAI,aAAa,uBAAuB,SAAvB,CAAjB;;AAEA,IAAI,WAAW,QAAQ,SAAR,CAAf;;AAEA,IAAI,YAAY,uBAAuB,QAAvB,CAAhB;;AAEA,IAAI,SAAS,QAAQ,OAAR,CAAb;;AAEA,IAAI,UAAU,uBAAuB,MAAvB,CAAd;;AAEA,SAAS,sBAAT,CAAgC,GAAhC,EAAqC;AAAE,SAAO,OAAO,IAAI,UAAX,GAAwB,GAAxB,GAA8B,EAAE,SAAS,GAAX,EAArC;AAAwD;;AAE/F,SAAS,OAAT,CAAiB,KAAjB,EAAwB;AACtB,SAAO;AACL,aAAS,MAAM,IADV;AAEL,iBAAa,MAAM,MAFd;AAGL,aAAS,MAAM,MAHV;AAIL,gBAAY,MAAM,MAJb;;AAML,YAAQ,MAAM,OANT;AAOL,YAAQ,MAAM,KAPT;AAQL,WAAO,MAAM,OARR;AASL,aAAS,MAAM,IATV;AAUL,aAAS,MAAM,KAAN,CAAY,KAAZ,CAAkB,IAVtB;AAWL,YAAQ,MAAM,IAXT;AAYL,YAAQ,MAAM,GAAN,CAAU;AAZb,GAAP;AAcD;;AAED,IAAI,UAAU,yBAAd;;AAEA,IAAI,UAAU,gBAAd;;AAEA,IAAI,UAAU,cAAd;;AAEA,SAAS,YAAT,CAAsB,KAAtB,EAA6B;AAC3B,MAAI,eAAe,MAAM,KAAN,CAAY,CAAC,CAAb,CAAnB;AAAA,MACI,SAAS,aAAa,CAAb,CADb;AAAA,MAEI,OAAO,aAAa,CAAb,CAFX;;AAIA,MAAI,QAAQ,WAAW,OAAX,CAAmB,YAAnB,CAAgC,KAAhC,CAAZ;;AAEA,MAAI,MAAM,IAAN,KAAe,MAAnB,EAA2B;AACzB,QAAI,UAAU,OAAV,CAAkB,OAAlB,CAA0B,iBAA1B,CAA4C,MAAM,KAAlD,CAAJ,EAA8D;AAC5D,aAAO,SAAP;AACD;;AAED,QAAI,QAAQ,IAAR,CAAa,MAAM,KAAnB,MAA8B,KAAK,SAAS,CAAd,MAAqB,GAArB,IAA4B,KAAK,MAAL,CAAY,SAAS,CAArB,EAAwB,CAAxB,KAA8B,IAAxF,CAAJ,EAAmG;AACjG,aAAO,SAAP;AACD;;AAED,QAAI,MAAM,KAAN,CAAY,CAAZ,MAAmB,MAAM,KAAN,CAAY,CAAZ,EAAe,WAAf,EAAvB,EAAqD;AACnD,aAAO,aAAP;AACD;AACF;;AAED,MAAI,MAAM,IAAN,KAAe,YAAf,IAA+B,QAAQ,IAAR,CAAa,MAAM,KAAnB,CAAnC,EAA8D;AAC5D,WAAO,SAAP;AACD;;AAED,SAAO,MAAM,IAAb;AACD;;AAED,SAAS,SAAT,CAAmB,IAAnB,EAAyB,IAAzB,EAA+B;AAC7B,SAAO,KAAK,OAAL,CAAa,WAAW,OAAxB,EAAiC,YAAY;AAClD,SAAK,IAAI,OAAO,UAAU,MAArB,EAA6B,OAAO,MAAM,IAAN,CAApC,EAAiD,OAAO,CAA7D,EAAgE,OAAO,IAAvE,EAA6E,MAA7E,EAAqF;AACnF,WAAK,IAAL,IAAa,UAAU,IAAV,CAAb;AACD;;AAED,QAAI,OAAO,aAAa,IAAb,CAAX;AACA,QAAI,WAAW,KAAK,IAAL,CAAf;AACA,QAAI,QAAJ,EAAc;AACZ,aAAO,KAAK,CAAL,EAAQ,KAAR,CAAc,OAAd,EAAuB,GAAvB,CAA2B,UAAU,GAAV,EAAe;AAC/C,eAAO,SAAS,GAAT,CAAP;AACD,OAFM,EAEJ,IAFI,CAEC,IAFD,CAAP;AAGD,KAJD,MAIO;AACL,aAAO,KAAK,CAAL,CAAP;AACD;AACF,GAdM,CAAP;AAeD;;AAED,OAAO,OAAP,GAAiB,QAAQ,SAAR,CAAjB","file":"index-compiled.js","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (rawLines, lineNumber, colNumber) {\n  var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  colNumber = Math.max(colNumber, 0);\n\n  var highlighted = opts.highlightCode && _chalk2.default.supportsColor || opts.forceColor;\n  var chalk = _chalk2.default;\n  if (opts.forceColor) {\n    chalk = new _chalk2.default.constructor({ enabled: true });\n  }\n  var maybeHighlight = function maybeHighlight(chalkFn, string) {\n    return highlighted ? chalkFn(string) : string;\n  };\n  var defs = getDefs(chalk);\n  if (highlighted) rawLines = highlight(defs, rawLines);\n\n  var linesAbove = opts.linesAbove || 2;\n  var linesBelow = opts.linesBelow || 3;\n\n  var lines = rawLines.split(NEWLINE);\n  var start = Math.max(lineNumber - (linesAbove + 1), 0);\n  var end = Math.min(lines.length, lineNumber + linesBelow);\n\n  if (!lineNumber && !colNumber) {\n    start = 0;\n    end = lines.length;\n  }\n\n  var numberMaxWidth = String(end).length;\n\n  var frame = lines.slice(start, end).map(function (line, index) {\n    var number = start + 1 + index;\n    var paddedNumber = (\" \" + number).slice(-numberMaxWidth);\n    var gutter = \" \" + paddedNumber + \" | \";\n    if (number === lineNumber) {\n      var markerLine = \"\";\n      if (colNumber) {\n        var markerSpacing = line.slice(0, colNumber - 1).replace(/[^\\t]/g, \" \");\n        markerLine = [\"\\n \", maybeHighlight(defs.gutter, gutter.replace(/\\d/g, \" \")), markerSpacing, maybeHighlight(defs.marker, \"^\")].join(\"\");\n      }\n      return [maybeHighlight(defs.marker, \">\"), maybeHighlight(defs.gutter, gutter), line, markerLine].join(\"\");\n    } else {\n      return \" \" + maybeHighlight(defs.gutter, gutter) + line;\n    }\n  }).join(\"\\n\");\n\n  if (highlighted) {\n    return chalk.reset(frame);\n  } else {\n    return frame;\n  }\n};\n\nvar _jsTokens = require(\"js-tokens\");\n\nvar _jsTokens2 = _interopRequireDefault(_jsTokens);\n\nvar _esutils = require(\"esutils\");\n\nvar _esutils2 = _interopRequireDefault(_esutils);\n\nvar _chalk = require(\"chalk\");\n\nvar _chalk2 = _interopRequireDefault(_chalk);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getDefs(chalk) {\n  return {\n    keyword: chalk.cyan,\n    capitalized: chalk.yellow,\n    jsx_tag: chalk.yellow,\n    punctuator: chalk.yellow,\n\n    number: chalk.magenta,\n    string: chalk.green,\n    regex: chalk.magenta,\n    comment: chalk.grey,\n    invalid: chalk.white.bgRed.bold,\n    gutter: chalk.grey,\n    marker: chalk.red.bold\n  };\n}\n\nvar NEWLINE = /\\r\\n|[\\n\\r\\u2028\\u2029]/;\n\nvar JSX_TAG = /^[a-z][\\w-]*$/i;\n\nvar BRACKET = /^[()\\[\\]{}]$/;\n\nfunction getTokenType(match) {\n  var _match$slice = match.slice(-2),\n      offset = _match$slice[0],\n      text = _match$slice[1];\n\n  var token = _jsTokens2.default.matchToToken(match);\n\n  if (token.type === \"name\") {\n    if (_esutils2.default.keyword.isReservedWordES6(token.value)) {\n      return \"keyword\";\n    }\n\n    if (JSX_TAG.test(token.value) && (text[offset - 1] === \"<\" || text.substr(offset - 2, 2) == \"</\")) {\n      return \"jsx_tag\";\n    }\n\n    if (token.value[0] !== token.value[0].toLowerCase()) {\n      return \"capitalized\";\n    }\n  }\n\n  if (token.type === \"punctuator\" && BRACKET.test(token.value)) {\n    return \"bracket\";\n  }\n\n  return token.type;\n}\n\nfunction highlight(defs, text) {\n  return text.replace(_jsTokens2.default, function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var type = getTokenType(args);\n    var colorize = defs[type];\n    if (colorize) {\n      return args[0].split(NEWLINE).map(function (str) {\n        return colorize(str);\n      }).join(\"\\n\");\n    } else {\n      return args[0];\n    }\n  });\n}\n\nmodule.exports = exports[\"default\"];"]}
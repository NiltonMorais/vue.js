{"version":3,"sources":["index.js"],"names":[],"mappings":";;AAAA,OAAO,OAAP,GAAiB,QAAjB;AACA,SAAS,QAAT,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,GAAxB,EAA6B;AAC3B,MAAI,aAAa,MAAjB,EAAyB,IAAI,WAAW,CAAX,EAAc,GAAd,CAAJ;AACzB,MAAI,aAAa,MAAjB,EAAyB,IAAI,WAAW,CAAX,EAAc,GAAd,CAAJ;;AAEzB,MAAI,IAAI,MAAM,CAAN,EAAS,CAAT,EAAY,GAAZ,CAAR;;AAEA,SAAO,KAAK;AACV,WAAO,EAAE,CAAF,CADG;AAEV,SAAK,EAAE,CAAF,CAFK;AAGV,SAAK,IAAI,KAAJ,CAAU,CAAV,EAAa,EAAE,CAAF,CAAb,CAHK;AAIV,UAAM,IAAI,KAAJ,CAAU,EAAE,CAAF,IAAO,EAAE,MAAnB,EAA2B,EAAE,CAAF,CAA3B,CAJI;AAKV,UAAM,IAAI,KAAJ,CAAU,EAAE,CAAF,IAAO,EAAE,MAAnB;AALI,GAAZ;AAOD;;AAED,SAAS,UAAT,CAAoB,GAApB,EAAyB,GAAzB,EAA8B;AAC5B,MAAI,IAAI,IAAI,KAAJ,CAAU,GAAV,CAAR;AACA,SAAO,IAAI,EAAE,CAAF,CAAJ,GAAW,IAAlB;AACD;;AAED,SAAS,KAAT,GAAiB,KAAjB;AACA,SAAS,KAAT,CAAe,CAAf,EAAkB,CAAlB,EAAqB,GAArB,EAA0B;AACxB,MAAI,IAAJ,EAAU,GAAV,EAAe,IAAf,EAAqB,KAArB,EAA4B,MAA5B;AACA,MAAI,KAAK,IAAI,OAAJ,CAAY,CAAZ,CAAT;AACA,MAAI,KAAK,IAAI,OAAJ,CAAY,CAAZ,EAAe,KAAK,CAApB,CAAT;AACA,MAAI,IAAI,EAAR;;AAEA,MAAI,MAAM,CAAN,IAAW,KAAK,CAApB,EAAuB;AACrB,WAAO,EAAP;AACA,WAAO,IAAI,MAAX;;AAEA,WAAO,KAAK,CAAL,IAAU,CAAC,MAAlB,EAA0B;AACxB,UAAI,KAAK,EAAT,EAAa;AACX,aAAK,IAAL,CAAU,CAAV;AACA,aAAK,IAAI,OAAJ,CAAY,CAAZ,EAAe,IAAI,CAAnB,CAAL;AACD,OAHD,MAGO,IAAI,KAAK,MAAL,IAAe,CAAnB,EAAsB;AAC3B,iBAAS,CAAE,KAAK,GAAL,EAAF,EAAc,EAAd,CAAT;AACD,OAFM,MAEA;AACL,cAAM,KAAK,GAAL,EAAN;AACA,YAAI,MAAM,IAAV,EAAgB;AACd,iBAAO,GAAP;AACA,kBAAQ,EAAR;AACD;;AAED,aAAK,IAAI,OAAJ,CAAY,CAAZ,EAAe,IAAI,CAAnB,CAAL;AACD;;AAED,UAAI,KAAK,EAAL,IAAW,MAAM,CAAjB,GAAqB,EAArB,GAA0B,EAA9B;AACD;;AAED,QAAI,KAAK,MAAT,EAAiB;AACf,eAAS,CAAE,IAAF,EAAQ,KAAR,CAAT;AACD;AACF;;AAED,SAAO,MAAP;AACD","file":"index-compiled.js","sourcesContent":["module.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n"]}
{"version":3,"sources":["index.js"],"names":[],"mappings":";;AAAA,IAAI,OAAO,QAAQ,MAAR,CAAX;;AAEA,OAAO,OAAP,GAAiB,UAAU,OAAV,EAAmB,QAAnB,EAA6B;AAC1C,QAAI,QAAJ,EAAc;AACV,YAAI,QAAQ,SAAS,GAAT,CAAa,UAAU,CAAV,EAAa;AAClC,mBAAO,KAAK,OAAL,CAAa,OAAb,EAAsB,CAAtB,CAAP;AACH,SAFW,CAAZ;AAGH,KAJD,MAKK;AACD,YAAI,QAAQ,OAAZ;AACH;;AAED,QAAI,MAAM,MAAM,KAAN,CAAY,CAAZ,EAAe,MAAf,CAAsB,UAAU,EAAV,EAAc,IAAd,EAAoB;AAChD,YAAI,CAAC,KAAK,KAAL,CAAW,oBAAX,CAAL,EAAuC;AACnC,kBAAM,IAAI,KAAJ,CAAU,iCAAV,CAAN;AACH;;AAED,YAAI,KAAK,KAAK,KAAL,CAAW,SAAX,CAAT;AACA,aACI,IAAI,IAAI,CADZ,EAEI,GAAG,CAAH,MAAU,GAAG,CAAH,CAAV,IAAmB,IAAI,KAAK,GAAL,CAAS,GAAG,MAAZ,EAAoB,GAAG,MAAvB,CAF3B,EAGI,GAHJ;AAKA,eAAO,GAAG,KAAH,CAAS,CAAT,EAAY,CAAZ,CAAP;AACH,KAZS,EAYP,MAAM,CAAN,EAAS,KAAT,CAAe,SAAf,CAZO,CAAV;;AAcA;AACA,WAAO,IAAI,MAAJ,GAAa,CAAb,GAAiB,IAAI,IAAJ,CAAS,GAAT,CAAjB,GAAiC,GAAxC;AACH,CA1BD","file":"index-compiled.js","sourcesContent":["var path = require('path');\n\nmodule.exports = function (basedir, relfiles) {\n    if (relfiles) {\n        var files = relfiles.map(function (r) {\n            return path.resolve(basedir, r);\n        });\n    }\n    else {\n        var files = basedir;\n    }\n    \n    var res = files.slice(1).reduce(function (ps, file) {\n        if (!file.match(/^([A-Za-z]:)?\\/|\\\\/)) {\n            throw new Error('relative path without a basedir');\n        }\n        \n        var xs = file.split(/\\/+|\\\\+/);\n        for (\n            var i = 0;\n            ps[i] === xs[i] && i < Math.min(ps.length, xs.length);\n            i++\n        );\n        return ps.slice(0, i);\n    }, files[0].split(/\\/+|\\\\+/));\n    \n    // Windows correctly handles paths with forward-slashes\n    return res.length > 1 ? res.join('/') : '/'\n};\n"]}